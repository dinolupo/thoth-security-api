<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    template="../WEB-INF/template.xhtml">

    <ui:define name="page_references">
        <p>
        </p>
    </ui:define>
    
    <ui:define name="page_name">
        Index
    </ui:define>
    
    <ui:define name="test_goals">
        <p>
            If my JSF page tries to call 
            a method on a managed bean which it should not have access to, will the 
            method call fail? The application uses 
            application-specific roles in <code>@DeclareRoles</code>.  The identity-management groups are 
            mapped to application-specific roles in <code>glassfish-web.xml</code>.
        </p>
    </ui:define>
    
    <ui:define name="test_results">
        <p>
            <b>Yes!</b>
        </p>
        <p>
            The link below is to the <code>/customersupport/bad_support.xhtml</code>
            page.  This is a bad page because it attempts to call a method on the
            <code>ExecutiveContract</code> EJB which is protected by 
            <code>@RolesAllowed({"ExecutiveRole"})</code>.  Because I do not have
            that role, I get an <code>javax.ejb.EJBAccessException</code> error page. 
        </p>
        <p>
            <h:link value="Bad :( Customer Support page" outcome="/customersupport/bad_support" />
        </p>
        
        <p>
            However, the link below is to the <code>/customersupport/good_support.xhtml</code>
            page.  This is a good page because it attempts to call a method on the
            <code>CustomerSupportController</code> EJB which is protected by 
            <code>@RolesAllowed({"CustomerSupportRole"})</code>.  I have
            that role, so I get to see the page. 
        </p>
        <p>
            <h:link value="Good :) Customer Support page" outcome="/customersupport/good_support" />
        </p>
    </ui:define>
    
</ui:composition>
